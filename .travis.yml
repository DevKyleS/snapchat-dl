language: python
python:
- 3.8
install:
- pip install -U tox-travis
- pip install codecov
- pip install -r requirements.txt
script:
- tox
- coverage run -m pytest tests
deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  username: __token__
  on:
    repo: skyme5/snapchat-dl
    python: 3.8
  password:
    secure: HDyeJhZfxps0tujwWPt5MYvX6v4Sg/HuF4xtN5TMPrVLmHtUC4wbMYUq/b4MIr5I9bmQZpbP8AQ9rJR/6E7+2cZ7IB4OSq8U8gCBzLYVC94OzkGYQI7WfQgMDxjeQV9lDYm0eT9yGBmLrWX+cNhM0Mcgpw02k663EQt2wzyQAbO23Np9Cpe3rQbFEYIbgfs2OdPGczj8AH3Bnwpc4uR2GQnr9PL/O8PPY2satGGWIWZT+MIgFi/9iWtyqedPv1RZwTOviWvZocnCVtZMzz4tUhWNCwTPCA96nPdnne4ouylJ52ys2xyI6bhVLEwrn6l3xU6271vMtXAaS+g3+uqrHKqbnJr4TKRPd30Ir2TW9IvZDoBh9fg7XI1+tEY9BWTSb7BADFPO7MM4MnDjYa3cIsuRxoGyPFBB7rf3iMapVtVWS1Qi4dHK4pqJIiSh7Nh3o3GfH7KeLhrDqZKe/CWRrCfv8UnfzBHD6OCzMyfxb4DMfR9hl7fB9gw9snaV95K3ChS4Nw5YJo8NKDPwA30ZixbZhEaWr5Jzl8B5vkeUiFotqUY10ohjwprqoi8dAsVGNXi4yKJnQEJN/Qa8GAY2Yj+x19pDVJpHG70AVQcyFvytzLNygF//EmrWfvPVOik181MBnZT2QTuhjgPUyllBTG4sHeX07rkzNs6zc1A8gx8=
after_success:
- codecov
