language: python
python:
- 3.8
install:
- pip install -U tox-travis
- pip install codecov
- pip install -r requirements.txt
script:
- tox
- coverage run -m pytest tests
deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  username: __token__
  on:
    tags: true
    repo: skyme5/snapchat-dl
    python: 3.8
  password:
    secure: Y+XszJSHsQaTrUS78lxddqPzKhLrS5tOyjpYqMZC0JeI2roCjAa1r0+PHx4KevdxiWWUaGUTkb6t4uHqMVLUpUFL62QkEbictaRpiUagw9TJXtViiW/0mVkGzP+4uiaLpTYZTXIzYUmtdj5uAc5/GNz9XG9T7ZaHnM81Yu1ch3G8dS6zyCprPbTCoTTiVEYxFI6bYFw6UwgSFheukFSHCP0CZbV2YIxZCxzdEXvmK+QE1y5KCStwqEdOtta3fQYaK/bAkM7Hq3yyfTut910ouwrxNvUDl7v2paUTSsYkIPijUqnEesRN7CcZTjc+kBoxIFmq3SCAenxkgDduT0N4wbxIzKulh1x9tasm432M9B31RO6iY2AoUu2a4jXlM/U0FiqEDQXMazbjfmH04ExIyCtm/uoYdXGaAaunoBQ+a9o1N5b/4VQE/biw5bGd8kv1Vf/HzV2fXT/4UZfoehq3EMt8SyD65PtnD52sVEYKuWAPhxBa+Q4tg/KXlWN/BGI+alTjj3Qwtg/JyasVesRji+fboYP2TNUwwhSQtEZ7EOtFqKdJ/X68nOvwHFlw3ZlfGatbW6pRjCB+aWeEgz4/kZVg2XtW+PVObcLcStPOlL+8n/x/jxNmG5Mm9iRA1I4r7WTH5YkguBcm7Llzfr6ZAF6S+GjEAbHEyLZKgJP5WZY=
after_success:
- codecov
